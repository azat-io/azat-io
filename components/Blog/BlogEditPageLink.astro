---
import { getLocaleFromUrl } from '~/utils/get-locale-from-url'
import { useTranslations } from '~/utils/use-translations'
import Typography from '~/components/Typography.astro'
import PencilIcon from '~/icons/pencil.svg?raw'
import { repository } from '~/package.json'

interface Props {
  slug: string
}

let { slug } = Astro.props

let locale = getLocaleFromUrl(Astro.url)
let t = useTranslations(locale, 'blog')
---

<div class="edit-link-wrapper">
  <Typography
    href={`https://github.com/${repository}/blob/main/content/blog/${slug}.mdx`}
    rel="noopener noreferrer"
    class="edit-link"
    target="_blank"
    color="inherit"
    tag="a"
  >
    <Fragment set:html={PencilIcon} />
    {t('edit-this-page')}
  </Typography>
</div>

<style>
  .edit-link-wrapper {
    display: flex;
  }

  .edit-link {
    display: flex;
    gap: var(--space-s);
    place-items: center;
    padding-inline: 0;
    margin-block: 0;
    text-decoration: none;

    :global(svg) {
      inline-size: var(--size-icon-s);
      block-size: var(--size-icon-s);
    }
  }
</style>
