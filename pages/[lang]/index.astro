---
import { getLocaleFromUrl } from '~/utils/get-locale-from-url'
import { useTranslations } from '~/utils/use-translations'
import Typography from '~/components/Typography.astro'
import LayoutDefault from '~/layouts/Default.astro'
import Avatar from '~/components/Avatar.astro'
import { locales } from '~/locales'

let locale = getLocaleFromUrl(Astro.url)
let t = useTranslations(locale, 'index')

export let getStaticPaths = () =>
  locales.map(({ code }) => ({ params: { lang: code } }))
---

<LayoutDefault description={t('description')} title={t('title')}>
  <div class="content">
    <Avatar alt={t('avatar')} />
    <div>
      <Typography color="brand" size="2xl" bold>
        {t('website-title')}
      </Typography>
      <Typography color="brand" size="l">
        {t('website-subtitle')}
      </Typography>
      <Typography tag="p" mbs="m" mbe="m">
        {t('greeting')}
      </Typography>
    </div>
  </div>
</LayoutDefault>

<style>
  .content {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
    place-items: center;
    justify-content: center;
    block-size: 100%;
    margin-block-end: var(--space-xl);

    @container (inline-size >= 560px) {
      flex-direction: row;
    }
  }
</style>
